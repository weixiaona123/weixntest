"use strict";$(function(){function a(a){return a.length>0?!1:!0}var b=!0,c=$("#js-apply-success"),d=$("#apply-com"),e=$(".apply-drown-menu"),f=$(".apply-drown-context"),g=$(".js-name"),h=$(".js-product"),i=$("#apply-drown-sel span"),j=$("#apply-mau"),k=$(".mau-input"),l=$("#apply-drown-sel"),m=$("#js-apply-alert");window.checkFormSuccess=function(){var a=[],c=$("form").serializeArray();$.each(c,function(b,c){a[b]=c.value});var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i="default";$.ajax({type:"post",dataType:"json",crossDrmain:!0,contentType:"application/json",url:"https://auth.appadhoc.com/applied_users",data:JSON.stringify({company:d,name:e,email:f,mobile:g,mau:h,version:i}),success:function(){b=!0,afterSuccess()},error:function(){b=!0}})},window.afterSuccess=function(){m.hide(),c.show();var a,b=2;window.CountDown=function(){$("#num").text(b),0==b&&(clearInterval(a),window.location.href="http://www.appadhoc.com/"),b--},a=setInterval(CountDown,1e3)},window.applyFn=function(){return window.chekProduct()&&window.chekName()&&window.chekPhone()&&window.checkEmail()?!0:void 0},window.textChange=function(){chekPhone()};var n,o=document.forms.insightly_web_to_contact,p=document.getElementById("phone"),q=document.getElementById("email"),r=document.getElementById("info-form"),s=document.getElementById("textarea");window.chekPhone=function(){return n=o["phones[0].Value"].value.match(/^1[3578]\d{9}$/)?"":"请正确填写您的手机号码",p.innerHTML=n,a(n)},window.checkEmail=function(){return n=o["emails[0].Value"].value.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)?"":"请正确填写您的公司邮箱",q.innerHTML=n,a(n)},window.chekName=function(){return n=0==o.FirstName.value.length?"请正确填写您的姓名":"",r.innerHTML=n,a(n)},window.chekProduct=function(){return n=0==o.background.value.length||""==o.background.value?"请正确填写您的公司或产品名称":"",s.innerHTML=n,a(n)},d.on("click",function(){_hmt.push(["_trackEvent","提交申请","click"]);var a=applyFn();a&&(b?(b=!1,checkFormSuccess()):console.log("please click slow"))}),e.click(function(){f.toggle()}),i.on("click",function(){var a=$(this).text();j.text(a),k.val(a),l.fadeOut("slow")}),g.bind("input propertychange",function(){chekName()}),h.bind("input propertychange",function(){chekProduct()})});